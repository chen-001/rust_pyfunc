<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hawkes_event_indicators - Rust PyFunc API文档</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="static/search.js"></script>
</head>
<body>
    <div class="navbar">
        <h1 class="navbar-title">Rust PyFunc</h1>
        <p class="navbar-subtitle">高性能Python函数集合 - API文档</p>
    </div>
    
    
<div class="container">
    <div class="sidebar">
        <div class="search-container">
            <input type="text" id="search-input" placeholder="搜索函数...">
            <div id="search-results"></div>
        </div>
        
        <h3>导航</h3>
        <p><a href="index.html">返回首页</a></p>
    </div>
    
    <div class="content">
        <h1>hawkes_event_indicators</h1>
        
        <div class="function-description">
            <h2>描述</h2>
            <div><p>计算Hawkes过程的事件级指标（需要价格数据）</p>
<p>该函数在fit_hawkes_process的基础上,增加了需要价格数据的指标计算。
额外计算的指标主要用于分析每个事件对价格的影响。</p>
<h2>参数</h2>
<p>event_times : numpy.ndarray
    事件时间戳数组(单位:秒),需要是升序排列
event_volumes : numpy.ndarray
    事件对应的成交量数组
event_prices : numpy.ndarray
    事件对应的价格数组
initial_guess : Optional[Tuple[float, float, float]], optional
    参数初始猜测值 (mu, alpha, beta),默认为None
max_iterations : int, optional
    EM算法最大迭代次数,默认为1000
tolerance : float, optional
    收敛容差,默认为1e-6
cluster_merge_threshold : float, optional
    簇合并阈值(0-1),控制事件并入已有簇的宽松程度;
    数值越大越容易把事件并入已有簇,形成更大的簇;
    数值越小越严格,更倾向于创建新簇
    默认0.8,建议范围[0.5, 0.95]</p>
<h2>返回值</h2>
<p>dict
    包含fit_hawkes_process的所有字段,以及：
    - 'cluster_price_changes': 每个簇的价格变化(簇结束时价格 - 簇开始时价格)
    - 'time_intervals': 连续事件间的时间间隔</p>
<h2>新指标解释</h2>
<ol>
<li>
<p>簇价格变化(cluster_price_changes): 每个成交簇从开始到结束的价格变化,
   反映该簇交易活动对价格的影响方向和幅度。</p>
</li>
<li>
<p>时间间隔(time_intervals): 连续成交事件之间的时间间隔,
   可用于分析市场活跃度的时间模式。</p>
</li>
</ol>
<h2>示例</h2>
<blockquote>
<blockquote>
<blockquote>
<p>import rust_pyfunc as rp
import numpy as np</p>
<h1>读取真实逐笔成交数据</h1>
<p>df = read_trade_data('000001', 20220101)
df['time_seconds'] = (df.exchtime - df.exchtime.min()).dt.total_seconds()
result = rp.hawkes_event_indicators(
...     df.time_seconds.to_numpy(),
...     df.volume.to_numpy(),
...     df.price.to_numpy()
... )</p>
<h1>分析大簇的价格影响</h1>
<p>large_clusters = np.array(result['cluster_sizes']) &gt; 10
price_changes = np.array(result['cluster_price_changes'])[large_clusters]
print(f"大簇平均价格变化: {np.mean(price_changes):.4f}")</p>
</blockquote>
</blockquote>
</blockquote></div>
        </div>
        
        <div class="function-signature signature">
            <h2>函数签名</h2>
            <code>hawkes_event_indicators(event_times, event_volumes, event_prices, initial_guess, max_iterations, tolerance, cluster_merge_threshold, max_parent_search_window, parent_time_threshold_factor, merge_search_window, merge_time_threshold_factor, relax_factor_multiplier) -> None</code>
        </div>
        
        <div class="function-parameters">
            <h2>参数</h2>
            
                <p>此函数没有参数</p>
            
        </div>
        
        <div class="function-returns returns-section">
            <h2>返回值</h2>
            <div></div>
        </div>
        
        <div class="function-examples">
            <h2>示例</h2>
            
                <p>暂无示例</p>
            
            
            <div class="example-usage-note">
                <h3>Python使用示例</h3>
                <pre><code>import numpy as np
from rust_pyfunc import hawkes_event_indicators

# 使用示例

# 请参考文档中的参数说明使用此函数
</code></pre>
            </div>
        </div>
    </div>
</div>

</body>
</html>